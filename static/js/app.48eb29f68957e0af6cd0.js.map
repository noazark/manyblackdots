{"version":3,"sources":["webpack:///static/js/app.48eb29f68957e0af6cd0.js","webpack:///./src/components/Game.vue?2ec2","webpack:///./src/App.vue?a822","webpack:///./src/components/Game.vue?ab1d","webpack:///./src/worker.worker.js","webpack:///./src/lib/engine.js","webpack:///./src/lib/build-tools.js","webpack:///./src/utils/string.js","webpack:///./src/router/index.js","webpack:///./src/App.vue?fc6a","webpack:///./src/lib/collision.js","webpack:///./src/lib/loop.js","webpack:///./src/lib/screen.js","webpack:///./src/main.js","webpack:///./src/maps/main.js","webpack:///./src/maps/tests.js","webpack:///App.vue","webpack:///Game.vue"],"names":["webpackJsonp","101","module","exports","102","109","__webpack_require__","injectStyle","ssrContext","Component","110","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","111","staticClass","directives","name","rawName","value","expression","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","level","multiple","_l","v","k","key","domProps","_v","_s","config","ref","dat","state","isWinner","currentLevel","nextLevel","href","click","preventDefault","description","type","checked","isArray","showVectors","_i","__c","$$a","$$el","$$c","$$i","concat","slice","showGhosts","showCollisions","_e","115","Worker","p","14","__webpack_exports__","loadLevels","levels","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator___default","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries___default","next","done","_ref","_ref2","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray___default","initializeLevel","err","return","_ref3","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_freeze___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default","BASE_CONFIG","noop","d","PROP_STATIC","PROP_COLLIDABLE","PROP_KILLER","PROP_WIN_ZONE","PROP_DRAWABLE","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray__","n","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_freeze__","__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries__","__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator__","__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray__","arguments","length","obj","data","burn","up","dy","25","clouds","count","xMin","xMax","yMin","yMax","i","push","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default","SHAPE","x","Math","random","y","w","h","x0","y0","dx","CAMERA","BASE_OBSTACLE","BASE_WALL","BASE_PLATFORM","BASE_WIN_ZONE","BASE_HERO","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1__engine__","properties","color","26","strip","str","replace","47","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_Game__","__WEBPACK_IMPORTED_MODULE_2__components_Game___default","use","routes","path","component","a","48","49","onSegment","q","r","max","min","orientation","val","COLINEAR","CLOCKWISE","COUNTER_CLOCKWISE","getIntersection","p1","q1","p2","q2","denom","intersects","o1","o2","o3","o4","50","Event","callbacks","Reactor","events","Loop","fn","registerEvent","running","last","Date","now","_frame","_tick","tick","bind","addEventListener","registerCallback","callback","eventName","event","dispatchEvent","eventArgs","forEach","start","requestAnimationFrame","stop","cancelAnimationFrame","time","dt","51","cameraX","find","el","prepareCanvas","canvas","ctx","getContext","camera","width","height","style","scale","flush","buffer","clearRect","drawImage","_drawRect","fillStyle","inCollision","fillRect","drawVectors","drawables","includes","__WEBPACK_IMPORTED_MODULE_0__engine__","strokeStyle","beginPath","cx","cy","vx","vy","moveTo","lineTo","stroke","drawGhosts","drawRects","drawGameOver","textAlign","font","fillText","drawGameWon","draw","isAlive","52","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","__WEBPACK_IMPORTED_MODULE_2__router__","productionTip","router","53","level1","level2","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_taggedTemplateLiteral__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_taggedTemplateLiteral___default","__WEBPACK_IMPORTED_MODULE_3__lib_build_tools__","__WEBPACK_IMPORTED_MODULE_4__utils_string__","_templateObject","_templateObject2","54","ladder","fallTest","verticalPlatform","jump","impossiblePlatform","impossibleTrampoline","thinGap","chunkPads","chunkBedHop","chunkTreeTrunk","chunkStairCase","chunkTightLeap","chunkFlamingDeath","chunkShortDrop","chunkWallGap","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_taggedTemplateLiteral__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_taggedTemplateLiteral___default","_templateObject3","_templateObject4","jumpObstacles","thinGapMapItems","Number","chunkPadsMapItems","stairs","stepWidth","stepHeight","obstacleH","gap","platformX","overhang","55","56","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1_worker_loader_worker_worker_js__","__WEBPACK_IMPORTED_MODULE_1_worker_loader_worker_worker_js___default","__WEBPACK_IMPORTED_MODULE_2__lib_engine__","__WEBPACK_IMPORTED_MODULE_3__lib_screen__","__WEBPACK_IMPORTED_MODULE_4__lib_loop__","__WEBPACK_IMPORTED_MODULE_5__maps_main__","__WEBPACK_IMPORTED_MODULE_6__maps_tests__","__WEBPACK_IMPORTED_MODULE_7_url__","__WEBPACK_IMPORTED_MODULE_7_url___default","worker","engine","debug","watch","handler","reset","immediate","deep","computed","destroyed","terminate","mounted","_this","params","parse","window","location","search","query","$refs","canvasBuffer","cloneNode","requestFrame","e","handleFrame","handlePress","handleRelease","stopPropagation","document","methods","ret","_len","args","_key","postMessage","response","_e$data","loadGame"],"mappings":"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","file":"static/js/app.48eb29f68957e0af6cd0.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 101:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(102)\n}\nvar Component = __webpack_require__(45)(\n  /* script */\n  __webpack_require__(56),\n  /* template */\n  __webpack_require__(111),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1cc01846\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 110:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 111:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"game\"\n  }, [_c('div', [_c('select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.level),\n      expression: \"level\"\n    }],\n    staticClass: \"level-select\",\n    on: {\n      \"change\": function($event) {\n        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {\n          return o.selected\n        }).map(function(o) {\n          var val = \"_value\" in o ? o._value : o.value;\n          return val\n        });\n        _vm.level = $event.target.multiple ? $$selectedVal : $$selectedVal[0]\n      }\n    }\n  }, _vm._l((_vm.levels), function(v, k) {\n    return _c('option', {\n      key: k,\n      domProps: {\n        \"value\": k\n      }\n    }, [_vm._v(_vm._s(v.config.name || k))])\n  }))]), _vm._v(\" \"), _c('canvas', {\n    ref: \"canvas\"\n  }), _vm._v(\" \"), (_vm.dat.state && _vm.dat.state.isWinner && _vm.currentLevel.config.nextLevel) ? _c('pre', [_c('a', {\n    attrs: {\n      \"href\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.nextLevel($event)\n      }\n    }\n  }, [_vm._v(\"next level\")])]) : _c('pre', [_vm._v(_vm._s(_vm.currentLevel.config.description))]), _vm._v(\" \"), (_vm.debug) ? [_c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.state.showVectors),\n      expression: \"state.showVectors\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.state.showVectors) ? _vm._i(_vm.state.showVectors, null) > -1 : (_vm.state.showVectors)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.state.showVectors,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$c) {\n            $$i < 0 && (_vm.state.showVectors = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.state.showVectors = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.state.showVectors = $$c\n        }\n      }\n    }\n  }), _vm._v(\" show vectors\")]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.state.showGhosts),\n      expression: \"state.showGhosts\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.state.showGhosts) ? _vm._i(_vm.state.showGhosts, null) > -1 : (_vm.state.showGhosts)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.state.showGhosts,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$c) {\n            $$i < 0 && (_vm.state.showGhosts = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.state.showGhosts = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.state.showGhosts = $$c\n        }\n      }\n    }\n  }), _vm._v(\" show ghosts\")]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.state.showCollisions),\n      expression: \"state.showCollisions\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.state.showCollisions) ? _vm._i(_vm.state.showCollisions, null) > -1 : (_vm.state.showCollisions)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.state.showCollisions,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$c) {\n            $$i < 0 && (_vm.state.showCollisions = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.state.showCollisions = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.state.showCollisions = $$c\n        }\n      }\n    }\n  }), _vm._v(\" show collisions\")])] : _vm._e()], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = function() {\n\treturn new Worker(__webpack_require__.p + \"6d2931a1f8555ae26658.worker.js\");\n};\n\n/***/ }),\n\n/***/ 14:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return PROP_STATIC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return PROP_COLLIDABLE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return PROP_KILLER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return PROP_WIN_ZONE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return PROP_DRAWABLE; });\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = loadLevels;\n/* unused harmony export initializeLevel */\n/* unused harmony export move */\n/* unused harmony export isJumping */\n/* unused harmony export detectCollision */\n/* unused harmony export handleCollisions */\n/* unused harmony export createFrame */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_freeze__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_freeze___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_freeze__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__collision__ = __webpack_require__(49);\n\n\n\n\n\n\n\n\n\nvar PROP_STATIC = 'static';\nvar PROP_COLLIDABLE = 'collideable';\nvar PROP_KILLER = 'killer';\nvar PROP_WIN_ZONE = 'win-zone';\nvar PROP_DRAWABLE = 'drawable';\n\nvar BASE_CONFIG = {\n  name: '',\n  description: '',\n  showCollisions: false,\n  showVectors: false,\n  showGhosts: false\n};\n\nfunction loadLevels(levels) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = __WEBPACK_IMPORTED_MODULE_5_babel_runtime_core_js_get_iterator___default()(__WEBPACK_IMPORTED_MODULE_4_babel_runtime_core_js_object_entries___default()(levels)), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var _ref = _step.value;\n\n      var _ref2 = __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray___default()(_ref, 2);\n\n      var k = _ref2[0];\n      var v = _ref2[1];\n\n      levels[k] = initializeLevel(v);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return levels;\n}\n\nfunction initializeLevel(_ref3) {\n  var config = _ref3.config,\n      map = _ref3.map;\n\n  var level = {\n    config: __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_freeze___default()(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, BASE_CONFIG, config)),\n    map: map\n  };\n\n  level.config = __WEBPACK_IMPORTED_MODULE_3_babel_runtime_core_js_object_freeze___default()(level.config);\n\n  return level;\n}\n\nfunction getRectVertices(a) {\n  return {\n    a: { x: a.x, y: a.y },\n    b: { x: a.x, y: a.y + a.h },\n    c: { x: a.x + a.w, y: a.y + a.h },\n    d: { x: a.x + a.w, y: a.y }\n  };\n}\n\nfunction noop() {}\n// noop\n\n\n// A throttling function with a few rules:\n//\n// - You must start burn while on the floor (dy == 0)\n// - Burn starts when global state is up\n// - Burn ends after timer, or when parent hits floor (dy == 0)\nfunction throttle(name) {\n  var burn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n  var burnFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : noop;\n\n  var _data = {};\n\n  return function _func(obj, data) {\n    var now = Date.now();\n    var burndownKey = 'burndown';\n    var timerKey = 'timer';\n\n    if (obj.dy === 0) {\n      clearTimeout(_data[timerKey]);\n      delete _data[burndownKey];\n    }\n\n    if (_data[burndownKey] == null) {\n      _data[burndownKey] = now + burn;\n    }\n\n    var burnRemaining = 0;\n\n    if (now <= _data[burndownKey]) {\n      burnRemaining = (_data[burndownKey] - now) / 1000;\n    }\n\n    return burnFunc.call(this, obj, data, burnRemaining);\n  };\n}\n\nvar accel = throttle('accel', 500, function (obj, data, burn) {\n  if (data.state.up && burn > 0) {\n    return {\n      dy: burn * 1.001\n    };\n  } else {\n    return {\n      dy: obj.dy - 0.08\n    };\n  }\n});\n\nfunction furthestExtent(data) {\n  var extents = data.map.map(function (el) {\n    return el.properties.includes(PROP_STATIC) ? el.x + el.w : 0;\n  });\n  var furthestExtent = Math.max.apply(Math, __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default()(extents));\n  return furthestExtent;\n}\n\nfunction atExtents(data) {\n  var camera = data.map.find(function (el) {\n    return el.type === 'camera';\n  });\n\n  return camera.x + camera.w >= furthestExtent(data);\n}\n\nfunction move(data, state) {\n  data.state = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, data.state, state);\n\n  var hero = data.map.find(function (el) {\n    return el.type === 'hero';\n  });\n  __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()(hero, accel(hero, data));\n\n  data.map = data.map.map(function (el) {\n    var obj = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, el);\n\n    if (!obj.properties.includes(PROP_STATIC)) {\n      obj.x0 = el.x;\n      obj.y0 = el.y;\n\n      obj.x += state.dt * el.dx;\n      obj.y += state.dt * el.dy;\n    }\n\n    return obj;\n  });\n\n  if (atExtents(data)) {\n    var camera = data.map.find(function (el) {\n      return el.type === 'camera';\n    });\n    camera.x = furthestExtent(data) - camera.w;\n  }\n\n  return data;\n}\n\nfunction isJumping(data) {\n  var hero = data.map.find(function (el) {\n    return el.type === 'hero';\n  });\n  return hero.dy !== 0;\n}\n\nfunction _detectCollision(a, b) {\n  var aV = getRectVertices(a);\n  var a0V = getRectVertices(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, a, { x: a.x0, y: a.y0 }));\n  var bV = getRectVertices(b);\n\n  var sides = [['a', 'b'], ['b', 'c'], ['c', 'd'], ['d', 'a']];\n\n  for (var ai in sides) {\n    if (ai) {\n      var aSide = sides[ai];\n      for (var bi in sides) {\n        if (bi) {\n          var bSide = sides[bi];\n\n          var intersection = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__collision__[\"a\" /* intersects */])(aV[aSide[0]], a0V[aSide[0]], bV[bSide[0]], bV[bSide[1]]) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__collision__[\"a\" /* intersects */])(aV[aSide[0]], aV[aSide[1]], bV[bSide[0]], bV[bSide[1]]) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__collision__[\"a\" /* intersects */])(a0V[aSide[0]], a0V[aSide[1]], bV[bSide[0]], bV[bSide[1]]) || __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_7__collision__[\"a\" /* intersects */])(a0V[aSide[0]], a0V[aSide[1]], bV[bSide[0]], bV[bSide[1]]);\n\n          if (intersection) {\n            return [intersection, bSide.join('')];\n          }\n        }\n      }\n    }\n  }\n\n  return null;\n}\n\nfunction detectCollision(data, map) {\n  var collisions = [];\n  var collidables = {\n    heros: [],\n    static: []\n  };\n  map.reduce(function (m, o) {\n    if (!o.properties.includes(PROP_STATIC) && o.properties.includes(PROP_COLLIDABLE)) {\n      m.heros.push(o);\n    } else if (o.properties.includes(PROP_COLLIDABLE)) {\n      m.static.push(o);\n    }\n    return m;\n  }, collidables);\n\n  if (data.state.showCollisions) {\n    map.forEach(function (o) {\n      o.inCollision = false;\n    });\n  }\n\n  collidables.heros.forEach(function (a) {\n    collidables.static.forEach(function (o) {\n      if (a === o) {\n        return;\n      }\n\n      var collision = _detectCollision(a, o);\n      if (collision) {\n        var _collision = __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray___default()(collision, 2),\n            intersection = _collision[0],\n            side = _collision[1];\n\n        if (data.state.showCollisions) {\n          a.inCollision = true;\n          o.inCollision = true;\n        }\n\n        collisions.push([a, o, intersection, side]);\n      }\n    });\n  });\n\n  return collisions;\n}\n\nfunction pathag(a, b) {\n  return Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2));\n}\n\nfunction sortCollisions(a, b) {\n  var da = pathag(a[2].dx, a[2].dy);\n  var db = pathag(b[2].dx, b[2].dy);\n\n  if (da < db) {\n    return -1;\n  }\n\n  if (da > db) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction filterCollisions(collision) {\n  var collisionDistance = pathag(collision[2].dx, collision[2].dy);\n  return collisionDistance > 0.1;\n}\n\nfunction handleCollisions(data, collisions) {\n  if (collisions && collisions.length === 0 || data.state.isWinner === true) {\n    return data;\n  }\n\n  var closestCollision = collisions.sort(sortCollisions)[0];\n  var nearCollisions = collisions.filter(filterCollisions, {});\n\n  // Allow hero to move once per axis, this is to handle pinch points between\n  // two static objects and a collider. This is necessary to prevent the\n  // movement of the same hero along a single axis. This could be avoided if\n  // the data model was immutable.\n  var hasMovedX = false;\n  var hasMovedY = false;\n\n  [closestCollision].concat(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default()(nearCollisions)).forEach(function (col) {\n    var _col = __WEBPACK_IMPORTED_MODULE_6_babel_runtime_helpers_slicedToArray___default()(col, 4),\n        hero = _col[0],\n        collision = _col[1],\n        intersection = _col[2],\n        side = _col[3];\n\n    if (collision.type === 'platform' && hero.dy < 0) {\n      hero.y += intersection.dy;\n      hero.dy = 0;\n    }\n\n    if (collision.properties.includes(PROP_KILLER)) {\n      data.state.isAlive = false;\n    }\n\n    if (collision.properties.includes(PROP_WIN_ZONE)) {\n      data.state.isWinner = true;\n    }\n\n    if (collision.properties.includes(PROP_COLLIDABLE)) {\n      if (side === 'da' && hasMovedY === false) {\n        hero.y += intersection.dy - hero.h;\n        hasMovedY = true;\n      } else if (side === 'ab' && hasMovedX === false) {\n        hero.x += intersection.dx - hero.w;\n        hasMovedX = true;\n      } else if (side === 'bc' && hero.dy < 0 && hasMovedY === false) {\n        hero.y += intersection.dy;\n        hasMovedY = true;\n      } else if (side === 'cd' && hasMovedX === false) {\n        hero.x += intersection.dx;\n        hasMovedX = true;\n      }\n    }\n  });\n\n  return data;\n}\n\nfunction createFrame(data) {\n  // turn data into a single flat frame filled with objects to paint\n  return data;\n}\n\n/***/ }),\n\n/***/ 25:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return CAMERA; });\n/* unused harmony export SHAPE */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return BASE_OBSTACLE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return BASE_WALL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return BASE_PLATFORM; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return BASE_WIN_ZONE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return BASE_HERO; });\n/* harmony export (immutable) */ __webpack_exports__[\"g\"] = clouds;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__engine__ = __webpack_require__(14);\n\n\n\nvar CAMERA = {\n  type: 'camera',\n  properties: [],\n  h: 300,\n  w: 300,\n  x: 0,\n  y: 0,\n  x0: 0,\n  y0: 0,\n  dx: 0.25,\n  dy: 0\n};\n\nvar SHAPE = {\n  type: 'shape',\n  properties: [__WEBPACK_IMPORTED_MODULE_1__engine__[\"b\" /* PROP_DRAWABLE */]],\n  h: 0,\n  w: 0,\n  x: 0,\n  y: 0\n};\n\nvar BASE_OBSTACLE = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, SHAPE, {\n  type: 'obstacle',\n  color: '#333333',\n  properties: [__WEBPACK_IMPORTED_MODULE_1__engine__[\"c\" /* PROP_STATIC */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"b\" /* PROP_DRAWABLE */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"d\" /* PROP_COLLIDABLE */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"e\" /* PROP_KILLER */]]\n});\n\nvar BASE_WALL = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, SHAPE, {\n  type: 'wall',\n  color: '#999999',\n  properties: [__WEBPACK_IMPORTED_MODULE_1__engine__[\"c\" /* PROP_STATIC */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"b\" /* PROP_DRAWABLE */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"d\" /* PROP_COLLIDABLE */]]\n});\n\nvar BASE_PLATFORM = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, SHAPE, {\n  type: 'platform',\n  color: '#333333',\n  properties: [__WEBPACK_IMPORTED_MODULE_1__engine__[\"c\" /* PROP_STATIC */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"b\" /* PROP_DRAWABLE */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"d\" /* PROP_COLLIDABLE */]],\n  h: 1\n});\n\nvar BASE_WIN_ZONE = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, SHAPE, {\n  type: 'win-zone',\n  color: '#454545',\n  properties: [__WEBPACK_IMPORTED_MODULE_1__engine__[\"c\" /* PROP_STATIC */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"b\" /* PROP_DRAWABLE */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"d\" /* PROP_COLLIDABLE */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"f\" /* PROP_WIN_ZONE */]]\n});\n\nvar BASE_HERO = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, SHAPE, {\n  type: 'hero',\n  color: '#333333',\n  properties: [__WEBPACK_IMPORTED_MODULE_1__engine__[\"b\" /* PROP_DRAWABLE */], __WEBPACK_IMPORTED_MODULE_1__engine__[\"d\" /* PROP_COLLIDABLE */]],\n  h: 10,\n  w: 10,\n  x: 30,\n  x0: 0,\n  y0: 0,\n  dx: 0.25,\n  dy: 0\n});\n\nfunction clouds() {\n  var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  var xMin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var xMax = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n  var yMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var yMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 100;\n  var config = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n\n  var clouds = [];\n\n  for (var i = 0; i < count; i++) {\n    clouds.push(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, SHAPE, config, {\n      x: Math.random() * (xMax - xMin) + xMin,\n      y: Math.random() * (yMax - yMin) + yMin,\n      w: Math.random() * 100,\n      h: 1,\n      x0: 0,\n      y0: 0,\n      dx: Math.random() * -0.1,\n      dy: 0\n    }));\n  }\n\n  return clouds;\n}\n\n/***/ }),\n\n/***/ 26:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = strip;\nfunction strip(str) {\n  return str[0].replace(/^\\n/, '').replace(/^(\\s+)/gm, '');\n}\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(112);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Game__ = __webpack_require__(109);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Game___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Game__);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'Game',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_Game___default.a\n  }]\n}));\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(101)\n}\nvar Component = __webpack_require__(45)(\n  /* script */\n  __webpack_require__(55),\n  /* template */\n  __webpack_require__(110),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export getIntersection */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = intersects;\nvar COLINEAR = 0;\nvar CLOCKWISE = 1;\nvar COUNTER_CLOCKWISE = 2;\n\nfunction onSegment(p, q, r) {\n  return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction orientation(p, q, r) {\n  // See http://www.geeksforgeeks.org/orientation-3-ordered-points/\n  // for details of below formula.\n  var val = (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n\n  // clock or counterclock wise\n  return val === 0 ? COLINEAR : val > 0 ? CLOCKWISE : COUNTER_CLOCKWISE;\n}\n\nfunction getIntersection(p1, q1, p2, q2) {\n  var denom = (q2.y - p2.y) * (q1.x - p1.x) - (q2.x - p2.x) * (q1.y - p1.y);\n  if (denom === 0) {\n    return false;\n  }\n  var a = ((q2.x - p2.x) * (p1.y - p2.y) - (q2.y - p2.y) * (p1.x - p2.x)) / denom;\n  var dx = a * (q1.x - p1.x);\n  var dy = a * (q1.y - p1.y);\n  var x = p1.x + dx;\n  var y = p1.y + dy;\n\n  return {\n    x: x,\n    y: y,\n    dx: dx,\n    dy: dy,\n    p1: p1,\n    q1: q1,\n    p2: p2,\n    q2: q2\n  };\n}\n\n// The main function that returns true if line segment 'p1q1'\n// and 'p2q2' intersect.\nfunction intersects(p1, q1, p2, q2) {\n  // Find the four orientations needed for general and\n  // special cases\n  var o1 = orientation(p1, q1, p2);\n  var o2 = orientation(p1, q1, q2);\n  var o3 = orientation(p2, q2, p1);\n  var o4 = orientation(p2, q2, q1);\n\n  if (\n  // General case\n  o1 !== o2 && o3 !== o4 ||\n  // p1, q1 and p2 are colinear and p2 lies on segment p1q1\n  o1 === 0 && onSegment(p1, p2, q1) ||\n  // p1, q1 and p2 are colinear and q2 lies on segment p1q1\n  o2 === 0 && onSegment(p1, q2, q1) ||\n  // p2, q2 and p1 are colinear and p1 lies on segment p2q2\n  o3 === 0 && onSegment(p2, p1, q2) ||\n  // p2, q2 and q1 are colinear and q1 lies on segment p2q2\n  o4 === 0 && onSegment(p2, q1, q2)) {\n    return getIntersection(p1, q1, p2, q2);\n  }\n\n  return false;\n}\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Loop;\n// taken from https://github.com/mattdesl/raf-loop/blob/master/index.js\n// modified to remove external dependencies\n\nfunction Event(name) {\n  this.name = name;\n  this.callbacks = [];\n}\nEvent.prototype.registerCallback = function (callback) {\n  this.callbacks.push(callback);\n};\n\nfunction Reactor() {\n  this.events = {};\n}\n\nReactor.prototype.registerEvent = function (eventName) {\n  var event = new Event(eventName);\n  this.events[eventName] = event;\n};\n\nReactor.prototype.dispatchEvent = function (eventName, eventArgs) {\n  this.events[eventName].callbacks.forEach(function (callback) {\n    callback(eventArgs);\n  });\n};\n\nReactor.prototype.addEventListener = function (eventName, callback) {\n  this.events[eventName].registerCallback(callback);\n};\n\nfunction Loop(fn) {\n  if (!(this instanceof Loop)) {\n    return new Loop(fn);\n  }\n  this.events = new Reactor();\n  this.events.registerEvent('tick');\n\n  this.running = false;\n  this.last = Date.now();\n  this._frame = 0;\n  this._tick = this.tick.bind(this);\n\n  if (fn) {\n    this.events.addEventListener('tick', fn);\n  }\n}\n\nLoop.prototype.start = function () {\n  if (this.running) {\n    return;\n  }\n  this.running = true;\n  this.last = Date.now();\n  this._frame = requestAnimationFrame(this._tick);\n  return this;\n};\n\nLoop.prototype.stop = function () {\n  this.running = false;\n  if (this._frame !== 0) {\n    cancelAnimationFrame(this._frame);\n  }\n  this._frame = 0;\n  return this;\n};\n\nLoop.prototype.tick = function () {\n  this._frame = requestAnimationFrame(this._tick);\n  var time = Date.now();\n  var dt = time - this.last;\n  this.events.dispatchEvent('tick', dt);\n  this.last = time;\n};\n\n/***/ }),\n\n/***/ 51:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = prepareCanvas;\n/* harmony export (immutable) */ __webpack_exports__[\"b\"] = flush;\n/* unused harmony export drawVectors */\n/* unused harmony export drawGhosts */\n/* unused harmony export drawRects */\n/* unused harmony export drawGameOver */\n/* unused harmony export drawGameWon */\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = draw;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__engine__ = __webpack_require__(14);\n\n\nfunction cameraX(data) {\n  var camera = data.map.find(function (el) {\n    return el.type === 'camera';\n  });\n  return camera.x;\n}\n\nfunction prepareCanvas(canvas, data) {\n  var ctx = canvas.getContext('2d');\n  var camera = data.map.find(function (el) {\n    return el.type === 'camera';\n  });\n\n  canvas.width = camera.w * 2;\n  canvas.height = camera.h * 2;\n  canvas.style.width = camera.w + 'px';\n  canvas.style.height = camera.h + 'px';\n  ctx.scale(2, 2);\n\n  return ctx;\n}\n\nfunction flush(buffer, canvas) {\n  var ctx = canvas.getContext('2d');\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.drawImage(buffer, 0, 0, canvas.width / 2, canvas.height / 2);\n}\n\nfunction _drawRect(ctx, data, r) {\n  var camera = data.map.find(function (el) {\n    return el.type === 'camera';\n  });\n  var x = r.x;\n  var y = camera.h - r.y - r.h;\n  var width = r.w;\n  var height = r.h;\n\n  ctx.fillStyle = r.color;\n\n  if (data.state.showCollisions && r.inCollision) {\n    ctx.fillStyle = 'red';\n  }\n\n  ctx.fillRect(x - cameraX(data), y, width, height);\n}\n\nfunction drawVectors(ctx, data) {\n  var drawables = data.map.filter(function (el) {\n    return el.properties.includes(__WEBPACK_IMPORTED_MODULE_0__engine__[\"b\" /* PROP_DRAWABLE */]);\n  });\n  var camera = data.map.find(function (el) {\n    return el.type === 'camera';\n  });\n  drawables.forEach(function (r) {\n    ctx.strokeStyle = 'red';\n    ctx.beginPath();\n    var cx = r.x - cameraX(data) + r.w / 2;\n    var cy = camera.h - r.y - r.h + r.h / 2;\n\n    var vx = r.dx * 50;\n    var vy = r.dy * 50;\n    ctx.moveTo(cx, cy);\n    ctx.lineTo(cx + vx, cy - vy);\n    ctx.stroke();\n  });\n}\n\nfunction drawGhosts(ctx, data) {\n  var camera = data.map.find(function (el) {\n    return el.type === 'camera';\n  });\n  var drawables = data.map.filter(function (el) {\n    return el.properties.includes(__WEBPACK_IMPORTED_MODULE_0__engine__[\"b\" /* PROP_DRAWABLE */]);\n  });\n  drawables.forEach(function (r) {\n    ctx.fillStyle = 'blue';\n    ctx.fillRect(r.x0 - cameraX(data), camera.h - r.y0 - r.h, r.w, r.h);\n  });\n}\n\nfunction drawRects(ctx, data) {\n  var drawables = data.map.filter(function (el) {\n    return el.properties.includes(__WEBPACK_IMPORTED_MODULE_0__engine__[\"b\" /* PROP_DRAWABLE */]);\n  });\n  drawables.forEach(function (r) {\n    return _drawRect(ctx, data, r);\n  });\n}\n\nfunction drawGameOver(ctx, data) {\n  var camera = data.map.find(function (el) {\n    return el.type === 'camera';\n  });\n\n  ctx.fillStyle = '#333333';\n  ctx.textAlign = 'center';\n  ctx.font = '24px monospace';\n  ctx.fillText('Game Over', camera.w / 2, camera.h / 2);\n}\n\nfunction drawGameWon(ctx, data) {\n  var camera = data.map.find(function (el) {\n    return el.type === 'camera';\n  });\n  ctx.fillStyle = '#efefef';\n  ctx.textAlign = 'center';\n  ctx.font = '24px monospace';\n  ctx.fillText(data.config.nextLevel ? 'You Win!' : 'Kill Screen', camera.w / 2, camera.h / 2);\n}\n\nfunction draw(canvas, data) {\n  var ctx = canvas.getContext('2d');\n\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n  if (data.state.showGhosts) {\n    drawGhosts(ctx, data);\n  }\n\n  drawRects(ctx, data);\n\n  if (data.state.showVectors) {\n    drawVectors(ctx, data);\n  }\n\n  if (!data.state.isAlive) {\n    drawGameOver(ctx, data);\n  }\n\n  if (data.state.isWinner) {\n    drawGameWon(ctx, data);\n  }\n}\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(48);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(47);\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App___default.a);\n  }\n});\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"level1\", function() { return level1; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"level2\", function() { return level2; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_taggedTemplateLiteral__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_taggedTemplateLiteral___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_taggedTemplateLiteral__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_string__ = __webpack_require__(26);\n\n\n\n\nvar _templateObject = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_taggedTemplateLiteral___default()(['\\n      press any button to begin\\n      press any button to jump'], ['\\n      press any button to begin\\n      press any button to jump']),\n    _templateObject2 = __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_taggedTemplateLiteral___default()(['\\n      Rinse & repeat'], ['\\n      Rinse & repeat']);\n\n\n\n\nvar level1 = {\n  config: {\n    name: 'Level 1',\n    description: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_string__[\"a\" /* strip */])(_templateObject),\n    nextLevel: 'level2'\n  },\n  map: [__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"f\" /* BASE_WIN_ZONE */], { w: 300, h: 300, x: 2050, y: 0 })].concat(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default()(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"g\" /* clouds */])(100, 0, 2350, 150, 300, { color: '#dfdfdf' })), [__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { w: 2350, y: -100 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 1200 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 1250, w: 300 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 1800, w: 500 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 1450, y: 50, w: 400 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { w: 20, y: 0, h: 10, x: 450 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { w: 20, y: 0, h: 10, x: 750 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { w: 20, y: 0, h: 50, x: 900 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { w: 20, y: 150, h: 1500, x: 1800 })])\n};\n\nvar level2 = {\n  config: {\n    name: 'Level 2',\n    description: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_string__[\"a\" /* strip */])(_templateObject2)\n  },\n  map: [__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"f\" /* BASE_WIN_ZONE */], { w: 300, h: 300, x: 3200, y: 0 })].concat(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_toConsumableArray___default()(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"g\" /* clouds */])(100, 0, 3500, 150, 300, { color: '#dfdfdf' })), [__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { w: 3500, y: -100 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { y: 0, w: 300 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 100, x: 200, y: 40 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 500, x: 400, y: 40 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 50, x: 1000, y: 40 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 50, x: 1150, y: 40 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 50, x: 1300, y: 40 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 50, x: 1450, y: 40 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 500, x: 1650, y: 40 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 200, x: 2150, y: 160 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 300, x: 2530, y: 70 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 150, x: 2610, y: 120 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { w: 20, y: 190, h: 1000, x: 2860 }), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { w: 200, x: 2950, y: 160 })])\n};\n\n/***/ }),\n\n/***/ 54:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ladder\", function() { return ladder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fallTest\", function() { return fallTest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"verticalPlatform\", function() { return verticalPlatform; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"jump\", function() { return jump; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"impossiblePlatform\", function() { return impossiblePlatform; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"impossibleTrampoline\", function() { return impossibleTrampoline; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"thinGap\", function() { return thinGap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkPads\", function() { return chunkPads; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkBedHop\", function() { return chunkBedHop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkTreeTrunk\", function() { return chunkTreeTrunk; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkStairCase\", function() { return chunkStairCase; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkTightLeap\", function() { return chunkTightLeap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkFlamingDeath\", function() { return chunkFlamingDeath; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkShortDrop\", function() { return chunkShortDrop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"chunkWallGap\", function() { return chunkWallGap; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_taggedTemplateLiteral__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_taggedTemplateLiteral___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_taggedTemplateLiteral__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_string__ = __webpack_require__(26);\n\n\n\n\nvar _templateObject = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_taggedTemplateLiteral___default()(['\\n      demonstrates issues with collision\\n      detection around two near collidables\\n\\n      play a few times to see the various responses'], ['\\n      demonstrates issues with collision\\n      detection around two near collidables\\n\\n      play a few times to see the various responses']),\n    _templateObject2 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_taggedTemplateLiteral___default()(['\\n      Platforms do not handle horizontal collisions very well'], ['\\n      Platforms do not handle horizontal collisions very well']),\n    _templateObject3 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_taggedTemplateLiteral___default()(['\\n    this platform shouldn\\'t be reachable\\n    '], ['\\n    this platform shouldn\\'t be reachable\\n    ']),\n    _templateObject4 = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_taggedTemplateLiteral___default()(['\\n    Bounce bounce bounce\\n    '], ['\\n    Bounce bounce bounce\\n    ']);\n\n\n\n\nvar ladder = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { w: 99999, y: -100 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 200, y: 6, w: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 400, y: 11, w: 300 })]\n};\n\nvar fallTest = {\n  config: {\n    showCollisions: true,\n    description: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_string__[\"a\" /* strip */])(_templateObject)\n  },\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 2, y: 180, dx: 0 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 110, w: 14 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -999, w: 14, h: 999 + 100 })]\n};\n\nvar verticalPlatform = {\n  config: {\n    description: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_string__[\"a\" /* strip */])(_templateObject2)\n  },\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], {\n    x: 30,\n    y: 1,\n    dx: 0.3\n  }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 200, y: 0, w: 1, h: 50 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 250, y: 0, w: 10, h: 50 })]\n};\n\nvar jumpObstacles = [];\n\nfor (var i = 0; i < 30; i++) {\n  jumpObstacles.push(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 200 + 300 * i, y: 0, w: 10, h: 10 * i + 1 }));\n}\n\nvar jump = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], {\n    x: 30,\n    y: 1\n  }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 99999 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -100, w: 99999, h: 0 })].concat(jumpObstacles)\n};\n\nvar impossiblePlatform = {\n  config: {\n    description: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_string__[\"a\" /* strip */])(_templateObject3)\n  },\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1, dx: 0 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 140, w: 150 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: 270, w: 150, h: 20 })]\n};\n\nvar impossibleTrampoline = {\n  config: {\n    description: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__utils_string__[\"a\" /* strip */])(_templateObject4)\n  },\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1, dx: 0 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 40, y: 50, w: 50 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: -20, y: 50, w: 50 })]\n};\n\nvar thinGapMapItems = [];\n\nfor (var _i = 0; _i < 500; _i++) {\n  thinGapMapItems = thinGapMapItems.concat([__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 100 * _i, y: 50, w: 100 - Number(_i * 2) })]);\n}\n\nvar thinGap = {\n  config: {\n    showCollisions: true\n  },\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */])].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(thinGapMapItems), [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], {\n    x: 30,\n    y: 52\n  }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: 0, w: 99999, h: 10 })])\n};\n\nvar chunkPadsMapItems = [];\n\nfor (var _i2 = 0; _i2 < 50; _i2++) {\n  chunkPadsMapItems.push(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 450 + 150 * _i2, y: 50, w: 100 - Number(_i2) }));\n}\n\nvar chunkPads = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 450 })].concat(chunkPadsMapItems, [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -100, w: 99999, h: 0 })])\n};\n\nvar chunkBedHop = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 900 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 450, y: 50, w: 200 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 400, y: 0, w: 300, h: 20 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -100, w: 99999, h: 0 })]\n};\n\nvar chunkTreeTrunk = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 900 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 450, y: 0, w: 20, h: 60 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 500, y: 100, w: 100 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 600, y: 30, w: 20, h: 150 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 620, y: 150, w: 100 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 700, y: 0, w: 20, h: 80 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -100, w: 99999, h: 0 })]\n\n  // should probably make this more generic and just call it a \"repeatable\"\n};function stairs(config) {\n  var stairs = [];\n\n  for (var _i3 = 1; _i3 <= config.count; _i3++) {\n    var w = config.stepWidth;\n    var x = config.x + w * _i3;\n    var h = config.stepHeight * _i3;\n    var obstacleH = h - config.gap;\n    var platformX = x - config.overhang;\n\n    stairs.push(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: platformX, y: h, w: w }));\n    stairs.push(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: x, y: 0, w: w, h: obstacleH }));\n  }\n\n  return stairs;\n}\n\nvar chunkStairCase = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 900 })].concat(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_toConsumableArray___default()(stairs({\n    count: 4,\n    x: 450,\n    y: 0,\n    stepHeight: 30,\n    stepWidth: 150,\n    gap: 10,\n    overhang: 75\n  })), [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -100, w: 99999, h: 0 })])\n};\n\nvar chunkTightLeap = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -100, w: 99999, h: 0 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 400 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 450, y: 120, w: 20, h: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 520, y: 0, w: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 840, y: 80, w: 20, h: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 880, y: 0, w: 300 })]\n};\n\nvar chunkFlamingDeath = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 500 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -100, w: 99999, h: 0 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 290, y: 0, w: 20, h: 40 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 290, y: 80, w: 20, h: 300 })]\n};\n\nvar chunkShortDrop = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 51 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 50, w: 250 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -100, w: 99999, h: 0 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 290, y: 55, w: 20, h: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"e\" /* BASE_WALL */], { x: 450, y: 80, w: 10, h: 300 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 275, y: 10, w: 50 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 400, y: 80, w: 500 })]\n};\n\nvar chunkWallGap = {\n  map: [__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"a\" /* CAMERA */]), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"b\" /* BASE_HERO */], { x: 30, y: 1 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 0, w: 1500 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"c\" /* BASE_OBSTACLE */], { x: 0, y: -100, w: 99999, h: 0 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 0, y: 80, w: 900 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"e\" /* BASE_WALL */], { x: 0, y: 70, w: 400, h: 10 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"e\" /* BASE_WALL */], { x: 500, y: 70, w: 400, h: 10 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"d\" /* BASE_PLATFORM */], { x: 1000, y: 80, w: 500 }), __WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__lib_build_tools__[\"e\" /* BASE_WALL */], { x: 1000, y: 70, w: 500, h: 10 })]\n};\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n\n/***/ 56:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_worker_loader_worker_worker_js__ = __webpack_require__(115);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_worker_loader_worker_worker_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_worker_loader_worker_worker_js__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lib_engine__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lib_screen__ = __webpack_require__(51);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__lib_loop__ = __webpack_require__(50);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__maps_main__ = __webpack_require__(53);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__maps_tests__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_url__ = __webpack_require__(107);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_url___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_url__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// eslint-disable-next-line\n\n\n\n\n\n\n\n\nvar worker = new __WEBPACK_IMPORTED_MODULE_1_worker_loader_worker_worker_js___default.a();\nvar engine = new __WEBPACK_IMPORTED_MODULE_4__lib_loop__[\"a\" /* Loop */]();\n\nfunction mapWorker(worker, events) {\n  var ret = {};\n\n  events.forEach(function (event) {\n    ret[event] = function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      worker.postMessage({ event: event, args: args });\n    };\n  });\n\n  return ret;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      debug: false,\n      levels: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__lib_engine__[\"a\" /* loadLevels */])(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __WEBPACK_IMPORTED_MODULE_5__maps_main__, __WEBPACK_IMPORTED_MODULE_6__maps_tests__)),\n      level: 'level1',\n      state: {\n        up: false,\n        showVectors: false,\n        showGhosts: false,\n        showCollisions: false\n      },\n      dat: {\n        config: {}\n      }\n    };\n  },\n\n\n  watch: {\n    level: {\n      handler: function handler() {\n        this.reset();\n      },\n\n      immediate: true\n    },\n\n    state: {\n      handler: function handler() {\n        this.draw(this.dat);\n      },\n\n      deep: true\n    }\n  },\n\n  computed: {\n    currentLevel: function currentLevel() {\n      return this.levels[this.level];\n    }\n  },\n\n  destroyed: function destroyed() {\n    worker.terminate();\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var params = __WEBPACK_IMPORTED_MODULE_7_url___default.a.parse(window.location.search, true);\n\n    this.debug = !!params.query.debug;\n\n    this.canvas = this.$refs.canvas;\n    this.canvasBuffer = this.$refs.canvas.cloneNode();\n\n    engine.events.addEventListener('tick', function (dt) {\n      return _this.requestFrame(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, _this.state, { dt: dt }));\n    });\n\n    worker.addEventListener('message', function (e) {\n      return _this.handleFrame(e);\n    });\n\n    var handlePress = function handlePress() {\n      _this.state.up = true;\n\n      if (_this.dat && !_this.dat.state.isAlive) {\n        _this.reset();\n      } else if (!engine.running) {\n        engine.start();\n      }\n    };\n\n    var handleRelease = function handleRelease(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      _this.state.up = false;\n    };\n\n    document.addEventListener('contextmenu', function (e) {\n      return e.preventDefault();\n    });\n    document.addEventListener('touchstart', handlePress);\n    document.addEventListener('keydown', handlePress);\n    document.addEventListener('touchend', handleRelease);\n    document.addEventListener('keyup', handleRelease);\n  },\n\n\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, mapWorker(worker, ['loadGame', 'requestFrame']), {\n    draw: function draw(response) {\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__lib_screen__[\"a\" /* draw */])(this.canvasBuffer, response);\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__lib_screen__[\"b\" /* flush */])(this.canvasBuffer, this.canvas);\n    },\n    handleFrame: function handleFrame(e) {\n      var _e$data = e.data,\n          event = _e$data.event,\n          response = _e$data.response;\n\n      this.dat = response;\n\n      if (event === 'requestFrame') {\n        this.draw(response);\n      }\n\n      if (!response.state.isAlive) {\n        engine.stop();\n      }\n\n      if (event === 'loadGame') {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__lib_screen__[\"c\" /* prepareCanvas */])(this.canvasBuffer, response);\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__lib_screen__[\"c\" /* prepareCanvas */])(this.canvas, response);\n\n        this.draw(response);\n      }\n    },\n    reset: function reset() {\n      this.loadGame(this.currentLevel);\n    },\n    nextLevel: function nextLevel() {\n      if (this.currentLevel.config.nextLevel) {\n        engine.stop();\n        this.level = this.currentLevel.config.nextLevel;\n        this.reset();\n      }\n    }\n  })\n});\n\n/***/ })\n\n},[52]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.48eb29f68957e0af6cd0.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1cc01846\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Game.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Game.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1cc01846\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Game.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-1cc01846\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Game.vue\n// module id = 109\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-03b66673\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 110\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"game\"\n  }, [_c('div', [_c('select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.level),\n      expression: \"level\"\n    }],\n    staticClass: \"level-select\",\n    on: {\n      \"change\": function($event) {\n        var $$selectedVal = Array.prototype.filter.call($event.target.options, function(o) {\n          return o.selected\n        }).map(function(o) {\n          var val = \"_value\" in o ? o._value : o.value;\n          return val\n        });\n        _vm.level = $event.target.multiple ? $$selectedVal : $$selectedVal[0]\n      }\n    }\n  }, _vm._l((_vm.levels), function(v, k) {\n    return _c('option', {\n      key: k,\n      domProps: {\n        \"value\": k\n      }\n    }, [_vm._v(_vm._s(v.config.name || k))])\n  }))]), _vm._v(\" \"), _c('canvas', {\n    ref: \"canvas\"\n  }), _vm._v(\" \"), (_vm.dat.state && _vm.dat.state.isWinner && _vm.currentLevel.config.nextLevel) ? _c('pre', [_c('a', {\n    attrs: {\n      \"href\": \"\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.nextLevel($event)\n      }\n    }\n  }, [_vm._v(\"next level\")])]) : _c('pre', [_vm._v(_vm._s(_vm.currentLevel.config.description))]), _vm._v(\" \"), (_vm.debug) ? [_c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.state.showVectors),\n      expression: \"state.showVectors\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.state.showVectors) ? _vm._i(_vm.state.showVectors, null) > -1 : (_vm.state.showVectors)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.state.showVectors,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$c) {\n            $$i < 0 && (_vm.state.showVectors = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.state.showVectors = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.state.showVectors = $$c\n        }\n      }\n    }\n  }), _vm._v(\" show vectors\")]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.state.showGhosts),\n      expression: \"state.showGhosts\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.state.showGhosts) ? _vm._i(_vm.state.showGhosts, null) > -1 : (_vm.state.showGhosts)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.state.showGhosts,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$c) {\n            $$i < 0 && (_vm.state.showGhosts = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.state.showGhosts = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.state.showGhosts = $$c\n        }\n      }\n    }\n  }), _vm._v(\" show ghosts\")]), _vm._v(\" \"), _c('br'), _vm._v(\" \"), _c('label', [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.state.showCollisions),\n      expression: \"state.showCollisions\"\n    }],\n    attrs: {\n      \"type\": \"checkbox\"\n    },\n    domProps: {\n      \"checked\": Array.isArray(_vm.state.showCollisions) ? _vm._i(_vm.state.showCollisions, null) > -1 : (_vm.state.showCollisions)\n    },\n    on: {\n      \"__c\": function($event) {\n        var $$a = _vm.state.showCollisions,\n          $$el = $event.target,\n          $$c = $$el.checked ? (true) : (false);\n        if (Array.isArray($$a)) {\n          var $$v = null,\n            $$i = _vm._i($$a, $$v);\n          if ($$c) {\n            $$i < 0 && (_vm.state.showCollisions = $$a.concat($$v))\n          } else {\n            $$i > -1 && (_vm.state.showCollisions = $$a.slice(0, $$i).concat($$a.slice($$i + 1)))\n          }\n        } else {\n          _vm.state.showCollisions = $$c\n        }\n      }\n    }\n  }), _vm._v(\" show collisions\")])] : _vm._e()], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1cc01846\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Game.vue\n// module id = 111\n// module chunks = 1","module.exports = function() {\n\treturn new Worker(__webpack_public_path__ + \"6d2931a1f8555ae26658.worker.js\");\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/worker-loader!./src/worker.worker.js\n// module id = 115\n// module chunks = 1","import { intersects } from './collision'\n\nexport const PROP_STATIC = 'static'\nexport const PROP_COLLIDABLE = 'collideable'\nexport const PROP_KILLER = 'killer'\nexport const PROP_WIN_ZONE = 'win-zone'\nexport const PROP_DRAWABLE = 'drawable'\n\nconst BASE_CONFIG = {\n  name: '',\n  description: '',\n  showCollisions: false,\n  showVectors: false,\n  showGhosts: false\n}\n\nexport function loadLevels (levels) {\n  for (let [k, v] of Object.entries(levels)) {\n    levels[k] = initializeLevel(v)\n  }\n  return levels\n}\n\nexport function initializeLevel ({ config, map }) {\n  const level = {\n    config: Object.freeze(Object.assign({}, BASE_CONFIG, config)),\n    map\n  }\n\n  level.config = Object.freeze(level.config)\n\n  return level\n}\n\nfunction getRectVertices (a) {\n  return {\n    a: { x: a.x, y: a.y },\n    b: { x: a.x, y: a.y + a.h },\n    c: { x: a.x + a.w, y: a.y + a.h },\n    d: { x: a.x + a.w, y: a.y }\n  }\n}\n\nfunction noop () {\n  // noop\n}\n\n// A throttling function with a few rules:\n//\n// - You must start burn while on the floor (dy == 0)\n// - Burn starts when global state is up\n// - Burn ends after timer, or when parent hits floor (dy == 0)\nfunction throttle (name, burn = 1000, burnFunc = noop) {\n  const _data = {}\n\n  return function _func (obj, data) {\n    const now = Date.now()\n    const burndownKey = `burndown`\n    const timerKey = `timer`\n\n    if (obj.dy === 0) {\n      clearTimeout(_data[timerKey])\n      delete _data[burndownKey]\n    }\n\n    if (_data[burndownKey] == null) {\n      _data[burndownKey] = now + burn\n    }\n\n    let burnRemaining = 0\n\n    if (now <= _data[burndownKey]) {\n      burnRemaining = (_data[burndownKey] - now) / 1000\n    }\n\n    return burnFunc.call(this, obj, data, burnRemaining)\n  }\n}\n\nconst accel = throttle('accel', 500,\n  function (obj, data, burn) {\n    if (data.state.up && burn > 0) {\n      return {\n        dy: burn * 1.001\n      }\n    } else {\n      return {\n        dy: obj.dy - 0.08\n      }\n    }\n  }\n)\n\nfunction furthestExtent (data) {\n  const extents = data.map.map((el) => el.properties.includes(PROP_STATIC) ? el.x + el.w : 0)\n  const furthestExtent = Math.max(...extents)\n  return furthestExtent\n}\n\nfunction atExtents (data) {\n  const camera = data.map.find((el) => el.type === 'camera')\n\n  return camera.x + camera.w >= furthestExtent(data)\n}\n\nexport function move (data, state) {\n  data.state = {...data.state, ...state}\n\n  const hero = data.map.find((el) => el.type === 'hero')\n  Object.assign(hero, accel(hero, data))\n\n  data.map = data.map.map((el) => {\n    const obj = Object.assign({}, el)\n\n    if (!obj.properties.includes(PROP_STATIC)) {\n      obj.x0 = el.x\n      obj.y0 = el.y\n\n      obj.x += state.dt * el.dx\n      obj.y += state.dt * el.dy\n    }\n\n    return obj\n  })\n\n  if (atExtents(data)) {\n    const camera = data.map.find((el) => el.type === 'camera')\n    camera.x = furthestExtent(data) - camera.w\n  }\n\n  return data\n}\n\nexport function isJumping (data) {\n  const hero = data.map.find((el) => el.type === 'hero')\n  return hero.dy !== 0\n}\n\nfunction _detectCollision (a, b) {\n  const aV = getRectVertices(a)\n  const a0V = getRectVertices(Object.assign({}, a, { x: a.x0, y: a.y0 }))\n  const bV = getRectVertices(b)\n\n  const sides = [\n    ['a', 'b'],\n    ['b', 'c'],\n    ['c', 'd'],\n    ['d', 'a']\n  ]\n\n  for (const ai in sides) {\n    if (ai) {\n      const aSide = sides[ai]\n      for (const bi in sides) {\n        if (bi) {\n          const bSide = sides[bi]\n\n          const intersection = intersects(aV[aSide[0]], a0V[aSide[0]], bV[bSide[0]], bV[bSide[1]]) ||\n                               intersects(aV[aSide[0]], aV[aSide[1]], bV[bSide[0]], bV[bSide[1]]) ||\n                               intersects(a0V[aSide[0]], a0V[aSide[1]], bV[bSide[0]], bV[bSide[1]]) ||\n                               intersects(a0V[aSide[0]], a0V[aSide[1]], bV[bSide[0]], bV[bSide[1]])\n\n          if (intersection) {\n            return [intersection, bSide.join('')]\n          }\n        }\n      }\n    }\n  }\n\n  return null\n}\n\nexport function detectCollision (data, map) {\n  const collisions = []\n  const collidables = {\n    heros: [],\n    static: []\n  }\n  map.reduce((m, o) => {\n    if (!o.properties.includes(PROP_STATIC) && o.properties.includes(PROP_COLLIDABLE)) {\n      m.heros.push(o)\n    } else if (o.properties.includes(PROP_COLLIDABLE)) {\n      m.static.push(o)\n    }\n    return m\n  }, collidables)\n\n  if (data.state.showCollisions) {\n    map.forEach(o => {\n      o.inCollision = false\n    })\n  }\n\n  collidables.heros.forEach((a) => {\n    collidables.static.forEach((o) => {\n      if (a === o) {\n        return\n      }\n\n      const collision = _detectCollision(a, o)\n      if (collision) {\n        const [intersection, side] = collision\n\n        if (data.state.showCollisions) {\n          a.inCollision = true\n          o.inCollision = true\n        }\n\n        collisions.push([a, o, intersection, side])\n      }\n    })\n  })\n\n  return collisions\n}\n\nfunction pathag (a, b) {\n  return Math.sqrt(Math.pow(a, 2) + Math.pow(b, 2))\n}\n\nfunction sortCollisions (a, b) {\n  const da = pathag(a[2].dx, a[2].dy)\n  const db = pathag(b[2].dx, b[2].dy)\n\n  if (da < db) {\n    return -1\n  }\n\n  if (da > db) {\n    return 1\n  }\n\n  return 0\n}\n\nfunction filterCollisions (collision) {\n  const collisionDistance = pathag(collision[2].dx, collision[2].dy)\n  return collisionDistance > 0.1\n}\n\nexport function handleCollisions (data, collisions) {\n  if ((collisions && collisions.length === 0) || data.state.isWinner === true) {\n    return data\n  }\n\n  const closestCollision = collisions.sort(sortCollisions)[0]\n  const nearCollisions = collisions.filter(filterCollisions, {})\n\n  // Allow hero to move once per axis, this is to handle pinch points between\n  // two static objects and a collider. This is necessary to prevent the\n  // movement of the same hero along a single axis. This could be avoided if\n  // the data model was immutable.\n  let hasMovedX = false\n  let hasMovedY = false;\n\n  [closestCollision, ...nearCollisions].forEach((col) => {\n    const [hero, collision, intersection, side] = col\n\n    if (collision.type === 'platform' && hero.dy < 0) {\n      hero.y += intersection.dy\n      hero.dy = 0\n    }\n\n    if (collision.properties.includes(PROP_KILLER)) {\n      data.state.isAlive = false\n    }\n\n    if (collision.properties.includes(PROP_WIN_ZONE)) {\n      data.state.isWinner = true\n    }\n\n    if (collision.properties.includes(PROP_COLLIDABLE)) {\n      if (side === 'da' && hasMovedY === false) {\n        hero.y += intersection.dy - hero.h\n        hasMovedY = true\n      } else if (side === 'ab' && hasMovedX === false) {\n        hero.x += intersection.dx - hero.w\n        hasMovedX = true\n      } else if (side === 'bc' && hero.dy < 0 && hasMovedY === false) {\n        hero.y += intersection.dy\n        hasMovedY = true\n      } else if (side === 'cd' && hasMovedX === false) {\n        hero.x += intersection.dx\n        hasMovedX = true\n      }\n    }\n  })\n\n  return data\n}\n\nexport function createFrame (data) {\n  // turn data into a single flat frame filled with objects to paint\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/engine.js","import {\n  PROP_STATIC,\n  PROP_COLLIDABLE,\n  PROP_KILLER,\n  PROP_WIN_ZONE,\n  PROP_DRAWABLE\n} from './engine'\n\nexport const CAMERA = {\n  type: 'camera',\n  properties: [],\n  h: 300,\n  w: 300,\n  x: 0,\n  y: 0,\n  x0: 0,\n  y0: 0,\n  dx: 0.25,\n  dy: 0\n}\n\nexport const SHAPE = {\n  type: 'shape',\n  properties: [PROP_DRAWABLE],\n  h: 0,\n  w: 0,\n  x: 0,\n  y: 0\n}\n\nexport const BASE_OBSTACLE = Object.assign({}, SHAPE, {\n  type: 'obstacle',\n  color: '#333333',\n  properties: [PROP_STATIC, PROP_DRAWABLE, PROP_COLLIDABLE, PROP_KILLER]\n})\n\nexport const BASE_WALL = Object.assign({}, SHAPE, {\n  type: 'wall',\n  color: '#999999',\n  properties: [PROP_STATIC, PROP_DRAWABLE, PROP_COLLIDABLE]\n})\n\nexport const BASE_PLATFORM = Object.assign({}, SHAPE, {\n  type: 'platform',\n  color: '#333333',\n  properties: [PROP_STATIC, PROP_DRAWABLE, PROP_COLLIDABLE],\n  h: 1\n})\n\nexport const BASE_WIN_ZONE = Object.assign({}, SHAPE, {\n  type: 'win-zone',\n  color: '#454545',\n  properties: [PROP_STATIC, PROP_DRAWABLE, PROP_COLLIDABLE, PROP_WIN_ZONE]\n})\n\nexport const BASE_HERO = Object.assign({}, SHAPE, {\n  type: 'hero',\n  color: '#333333',\n  properties: [PROP_DRAWABLE, PROP_COLLIDABLE],\n  h: 10,\n  w: 10,\n  x: 30,\n  x0: 0,\n  y0: 0,\n  dx: 0.25,\n  dy: 0\n})\n\nexport function clouds (count = 10, xMin = 0, xMax = 100, yMin = 0, yMax = 100, config = {}) {\n  const clouds = []\n\n  for (let i = 0; i < count; i++) {\n    clouds.push(Object.assign({}, SHAPE, config, {\n      x: Math.random() * (xMax - xMin) + xMin,\n      y: Math.random() * (yMax - yMin) + yMin,\n      w: Math.random() * 100,\n      h: 1,\n      x0: 0,\n      y0: 0,\n      dx: Math.random() * -0.1,\n      dy: 0\n    }))\n  }\n\n  return clouds\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/build-tools.js","export function strip (str) {\n  return str[0].replace(/^\\n/, '').replace(/^(\\s+)/gm, '')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/string.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Game from '@/components/Game'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Game',\n      component: Game\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-03b66673\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-03b66673\\\"}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 48\n// module chunks = 1","const COLINEAR = 0\nconst CLOCKWISE = 1\nconst COUNTER_CLOCKWISE = 2\n\nfunction onSegment (p, q, r) {\n  return q.x <= Math.max(p.x, r.x) &&\n    q.x >= Math.min(p.x, r.x) &&\n    q.y <= Math.max(p.y, r.y) &&\n    q.y >= Math.min(p.y, r.y)\n}\n\nfunction orientation (p, q, r) {\n  // See http://www.geeksforgeeks.org/orientation-3-ordered-points/\n  // for details of below formula.\n  const val = (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y)\n\n  // clock or counterclock wise\n  return val === 0 ? COLINEAR : val > 0 ? CLOCKWISE : COUNTER_CLOCKWISE\n}\n\nexport function getIntersection (p1, q1, p2, q2) {\n  const denom = (q2.y - p2.y) * (q1.x - p1.x) - (q2.x - p2.x) * (q1.y - p1.y)\n  if (denom === 0) {\n    return false\n  }\n  const a = ((q2.x - p2.x) * (p1.y - p2.y) - (q2.y - p2.y) * (p1.x - p2.x)) / denom\n  const dx = a * (q1.x - p1.x)\n  const dy = a * (q1.y - p1.y)\n  const x = p1.x + dx\n  const y = p1.y + dy\n\n  return {\n    x,\n    y,\n    dx,\n    dy,\n    p1,\n    q1,\n    p2,\n    q2\n  }\n}\n\n// The main function that returns true if line segment 'p1q1'\n// and 'p2q2' intersect.\nexport function intersects (p1, q1, p2, q2) {\n  // Find the four orientations needed for general and\n  // special cases\n  const o1 = orientation(p1, q1, p2)\n  const o2 = orientation(p1, q1, q2)\n  const o3 = orientation(p2, q2, p1)\n  const o4 = orientation(p2, q2, q1)\n\n  if (\n    // General case\n    (o1 !== o2 && o3 !== o4) ||\n    // p1, q1 and p2 are colinear and p2 lies on segment p1q1\n    (o1 === 0 && onSegment(p1, p2, q1)) ||\n    // p1, q1 and p2 are colinear and q2 lies on segment p1q1\n    (o2 === 0 && onSegment(p1, q2, q1)) ||\n    // p2, q2 and p1 are colinear and p1 lies on segment p2q2\n    (o3 === 0 && onSegment(p2, p1, q2)) ||\n    // p2, q2 and q1 are colinear and q1 lies on segment p2q2\n    (o4 === 0 && onSegment(p2, q1, q2))\n  ) {\n    return getIntersection(p1, q1, p2, q2)\n  }\n\n  return false\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/collision.js","// taken from https://github.com/mattdesl/raf-loop/blob/master/index.js\n// modified to remove external dependencies\n\nfunction Event (name) {\n  this.name = name\n  this.callbacks = []\n}\nEvent.prototype.registerCallback = function (callback) {\n  this.callbacks.push(callback)\n}\n\nfunction Reactor () {\n  this.events = {}\n}\n\nReactor.prototype.registerEvent = function (eventName) {\n  const event = new Event(eventName)\n  this.events[eventName] = event\n}\n\nReactor.prototype.dispatchEvent = function (eventName, eventArgs) {\n  this.events[eventName].callbacks.forEach(function (callback) {\n    callback(eventArgs)\n  })\n}\n\nReactor.prototype.addEventListener = function (eventName, callback) {\n  this.events[eventName].registerCallback(callback)\n}\n\nexport function Loop (fn) {\n  if (!(this instanceof Loop)) {\n    return new Loop(fn)\n  }\n  this.events = new Reactor()\n  this.events.registerEvent('tick')\n\n  this.running = false\n  this.last = Date.now()\n  this._frame = 0\n  this._tick = this.tick.bind(this)\n\n  if (fn) {\n    this.events.addEventListener('tick', fn)\n  }\n}\n\nLoop.prototype.start = function () {\n  if (this.running) {\n    return\n  }\n  this.running = true\n  this.last = Date.now()\n  this._frame = requestAnimationFrame(this._tick)\n  return this\n}\n\nLoop.prototype.stop = function () {\n  this.running = false\n  if (this._frame !== 0) {\n    cancelAnimationFrame(this._frame)\n  }\n  this._frame = 0\n  return this\n}\n\nLoop.prototype.tick = function () {\n  this._frame = requestAnimationFrame(this._tick)\n  const time = Date.now()\n  const dt = time - this.last\n  this.events.dispatchEvent('tick', dt)\n  this.last = time\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/loop.js","import { PROP_DRAWABLE } from './engine'\n\nfunction cameraX (data) {\n  const camera = data.map.find((el) => el.type === 'camera')\n  return camera.x\n}\n\nexport function prepareCanvas (canvas, data) {\n  const ctx = canvas.getContext('2d')\n  const camera = data.map.find((el) => el.type === 'camera')\n\n  canvas.width = camera.w * 2\n  canvas.height = camera.h * 2\n  canvas.style.width = `${camera.w}px`\n  canvas.style.height = `${camera.h}px`\n  ctx.scale(2, 2)\n\n  return ctx\n}\n\nexport function flush (buffer, canvas) {\n  const ctx = canvas.getContext('2d')\n  ctx.clearRect(0, 0, canvas.width, canvas.height)\n  ctx.drawImage(buffer, 0, 0, canvas.width / 2, canvas.height / 2)\n}\n\nfunction _drawRect (ctx, data, r) {\n  const camera = data.map.find((el) => el.type === 'camera')\n  const x = r.x\n  const y = camera.h - r.y - r.h\n  const width = r.w\n  const height = r.h\n\n  ctx.fillStyle = r.color\n\n  if (data.state.showCollisions && r.inCollision) {\n    ctx.fillStyle = 'red'\n  }\n\n  ctx.fillRect(x - cameraX(data), y, width, height)\n}\n\nexport function drawVectors (ctx, data) {\n  const drawables = data.map.filter((el) => el.properties.includes(PROP_DRAWABLE))\n  const camera = data.map.find((el) => el.type === 'camera')\n  drawables.forEach((r) => {\n    ctx.strokeStyle = 'red'\n    ctx.beginPath()\n    const cx = r.x - cameraX(data) + r.w / 2\n    const cy = camera.h - r.y - r.h + r.h / 2\n\n    const vx = r.dx * 50\n    const vy = r.dy * 50\n    ctx.moveTo(cx, cy)\n    ctx.lineTo(cx + vx, cy - vy)\n    ctx.stroke()\n  })\n}\n\nexport function drawGhosts (ctx, data) {\n  const camera = data.map.find((el) => el.type === 'camera')\n  const drawables = data.map.filter((el) => el.properties.includes(PROP_DRAWABLE))\n  drawables.forEach((r) => {\n    ctx.fillStyle = 'blue'\n    ctx.fillRect(r.x0 - cameraX(data), camera.h - r.y0 - r.h, r.w, r.h)\n  })\n}\n\nexport function drawRects (ctx, data) {\n  const drawables = data.map.filter((el) => el.properties.includes(PROP_DRAWABLE))\n  drawables.forEach((r) => _drawRect(ctx, data, r))\n}\n\nexport function drawGameOver (ctx, data) {\n  const camera = data.map.find((el) => el.type === 'camera')\n\n  ctx.fillStyle = '#333333'\n  ctx.textAlign = 'center'\n  ctx.font = '24px monospace'\n  ctx.fillText('Game Over', camera.w / 2, camera.h / 2)\n}\n\nexport function drawGameWon (ctx, data) {\n  const camera = data.map.find((el) => el.type === 'camera')\n  ctx.fillStyle = '#efefef'\n  ctx.textAlign = 'center'\n  ctx.font = '24px monospace'\n  ctx.fillText(data.config.nextLevel ? 'You Win!' : 'Kill Screen', camera.w / 2, camera.h / 2)\n}\n\nexport function draw (canvas, data) {\n  const ctx = canvas.getContext('2d')\n\n  ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n  if (data.state.showGhosts) {\n    drawGhosts(ctx, data)\n  }\n\n  drawRects(ctx, data)\n\n  if (data.state.showVectors) {\n    drawVectors(ctx, data)\n  }\n\n  if (!data.state.isAlive) {\n    drawGameOver(ctx, data)\n  }\n\n  if (data.state.isWinner) {\n    drawGameWon(ctx, data)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/screen.js","import Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import { clouds, CAMERA, BASE_HERO, BASE_OBSTACLE, BASE_PLATFORM, BASE_WIN_ZONE } from '@/lib/build-tools'\nimport { strip } from '@/utils/string'\n\nexport const level1 = {\n  config: {\n    name: 'Level 1',\n    description: strip`\n      press any button to begin\n      press any button to jump`,\n    nextLevel: 'level2'\n  },\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_WIN_ZONE, { w: 300, h: 300, x: 2050, y: 0 }),\n    ...clouds(100, 0, 2350, 150, 300, { color: '#dfdfdf' }),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_OBSTACLE, { w: 2350, y: -100 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 1200 }),\n    Object.assign({}, BASE_PLATFORM, { x: 1250, w: 300 }),\n    Object.assign({}, BASE_PLATFORM, { x: 1800, w: 500 }),\n    Object.assign({}, BASE_PLATFORM, { x: 1450, y: 50, w: 400 }),\n    Object.assign({}, BASE_OBSTACLE, { w: 20, y: 0, h: 10, x: 450 }),\n    Object.assign({}, BASE_OBSTACLE, { w: 20, y: 0, h: 10, x: 750 }),\n    Object.assign({}, BASE_OBSTACLE, { w: 20, y: 0, h: 50, x: 900 }),\n    Object.assign({}, BASE_OBSTACLE, { w: 20, y: 150, h: 1500, x: 1800 })\n  ]\n}\n\nexport const level2 = {\n  config: {\n    name: 'Level 2',\n    description: strip`\n      Rinse & repeat`\n  },\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_WIN_ZONE, { w: 300, h: 300, x: 3200, y: 0 }),\n    ...clouds(100, 0, 3500, 150, 300, { color: '#dfdfdf' }),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_OBSTACLE, { w: 3500, y: -100 }),\n    Object.assign({}, BASE_PLATFORM, { y: 0, w: 300 }),\n    Object.assign({}, BASE_PLATFORM, { w: 100, x: 200, y: 40 }),\n    Object.assign({}, BASE_PLATFORM, { w: 500, x: 400, y: 40 }),\n    Object.assign({}, BASE_PLATFORM, { w: 50, x: 1000, y: 40 }),\n    Object.assign({}, BASE_PLATFORM, { w: 50, x: 1150, y: 40 }),\n    Object.assign({}, BASE_PLATFORM, { w: 50, x: 1300, y: 40 }),\n    Object.assign({}, BASE_PLATFORM, { w: 50, x: 1450, y: 40 }),\n    Object.assign({}, BASE_PLATFORM, { w: 500, x: 1650, y: 40 }),\n    Object.assign({}, BASE_PLATFORM, { w: 200, x: 2150, y: 160 }),\n    Object.assign({}, BASE_PLATFORM, { w: 300, x: 2530, y: 70 }),\n    Object.assign({}, BASE_PLATFORM, { w: 150, x: 2610, y: 120 }),\n    Object.assign({}, BASE_OBSTACLE, { w: 20, y: 190, h: 1000, x: 2860 }),\n    Object.assign({}, BASE_PLATFORM, { w: 200, x: 2950, y: 160 })\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/maps/main.js","import { BASE_HERO, BASE_OBSTACLE, BASE_PLATFORM, BASE_WALL, CAMERA } from '@/lib/build-tools'\nimport { strip } from '@/utils/string'\n\nexport const ladder = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_OBSTACLE, { w: 99999, y: -100 }),\n\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 300 }),\n    Object.assign({}, BASE_PLATFORM, { x: 200, y: 6, w: 300 }),\n    Object.assign({}, BASE_PLATFORM, { x: 400, y: 11, w: 300 })\n  ]\n}\n\nexport const fallTest = {\n  config: {\n    showCollisions: true,\n    description: strip`\n      demonstrates issues with collision\n      detection around two near collidables\n\n      play a few times to see the various responses`\n  },\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 2, y: 180, dx: 0 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 110, w: 14 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -999, w: 14, h: 999 + 100 })\n  ]\n}\n\nexport const verticalPlatform = {\n  config: {\n    description: strip`\n      Platforms do not handle horizontal collisions very well`\n  },\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, {\n      x: 30,\n      y: 1,\n      dx: 0.3\n    }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 300 }),\n    Object.assign({}, BASE_PLATFORM, { x: 200, y: 0, w: 1, h: 50 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 250, y: 0, w: 10, h: 50 })\n  ]\n}\n\nconst jumpObstacles = []\n\nfor (let i = 0; i < 30; i++) {\n  jumpObstacles.push(Object.assign({}, BASE_OBSTACLE, { x: 200 + 300 * i, y: 0, w: 10, h: 10 * i + 1 }))\n}\n\nexport const jump = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, {\n      x: 30,\n      y: 1\n    }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 99999 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -100, w: 99999, h: 0 }),\n    ...jumpObstacles\n  ]\n}\n\nexport const impossiblePlatform = {\n  config: {\n    description: strip`\n    this platform shouldn't be reachable\n    `\n  },\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 300 }),\n\n    Object.assign({}, BASE_HERO, { x: 30, y: 1, dx: 0 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 140, w: 150 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: 270, w: 150, h: 20 })\n  ]\n}\n\nexport const impossibleTrampoline = {\n  config: {\n    description: strip`\n    Bounce bounce bounce\n    `\n  },\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 300 }),\n\n    Object.assign({}, BASE_HERO, { x: 30, y: 1, dx: 0 }),\n    Object.assign({}, BASE_PLATFORM, { x: 40, y: 50, w: 50 }),\n    Object.assign({}, BASE_PLATFORM, { x: -20, y: 50, w: 50 }),\n  ]\n}\n\nlet thinGapMapItems = []\n\nfor (let i = 0; i < 500; i++) {\n  thinGapMapItems = thinGapMapItems.concat([\n    Object.assign({}, BASE_PLATFORM, { x: 100 * i, y: 50, w: 100 - Number(i*2) })\n  ])\n}\n\nexport const thinGap = {\n  config: {\n    showCollisions: true\n  },\n  map: [\n    Object.assign({}, CAMERA),\n    ...thinGapMapItems,\n    Object.assign({}, BASE_HERO, {\n      x: 30,\n      y: 52\n    }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: 0, w: 99999, h: 10 })\n  ]\n}\n\nconst chunkPadsMapItems = []\n\nfor (let i = 0; i < 50; i++) {\n  chunkPadsMapItems.push(Object.assign({}, BASE_PLATFORM, { x: 450 + 150 * i, y: 50, w: 100 - Number(i) }))\n}\n\nexport const chunkPads = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 450 }),\n    ...chunkPadsMapItems,\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -100, w: 99999, h: 0 })\n  ]\n}\n\nexport const chunkBedHop = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 900 }),\n    Object.assign({}, BASE_PLATFORM, { x: 450, y: 50, w: 200 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 400, y: 0, w: 300, h: 20 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -100, w: 99999, h: 0 })\n  ]\n}\n\nexport const chunkTreeTrunk = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 900 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 450, y: 0, w: 20, h: 60 }),\n    Object.assign({}, BASE_PLATFORM, { x: 500, y: 100, w: 100 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 600, y: 30, w: 20, h: 150 }),\n    Object.assign({}, BASE_PLATFORM, { x: 620, y: 150, w: 100 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 700, y: 0, w: 20, h: 80 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -100, w: 99999, h: 0 })\n  ]\n}\n\n// should probably make this more generic and just call it a \"repeatable\"\nfunction stairs (config) {\n  const stairs = []\n\n  for (let i = 1; i <= config.count; i++) {\n    const w = config.stepWidth\n    const x = config.x + w * i\n    const h = config.stepHeight * i\n    const obstacleH = h - config.gap\n    const platformX = x - config.overhang\n\n    stairs.push(Object.assign({}, BASE_PLATFORM, { x: platformX, y: h, w }))\n    stairs.push(Object.assign({}, BASE_OBSTACLE, { x, y: 0, w, h: obstacleH }))\n  }\n\n  return stairs\n}\n\nexport const chunkStairCase = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 900 }),\n    ...stairs({\n      count: 4,\n      x: 450,\n      y: 0,\n      stepHeight: 30,\n      stepWidth: 150,\n      gap: 10,\n      overhang: 75\n    }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -100, w: 99999, h: 0 })\n  ]\n}\n\nexport const chunkTightLeap = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -100, w: 99999, h: 0 }),\n\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 400 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 450, y: 120, w: 20, h: 300 }),\n    Object.assign({}, BASE_PLATFORM, { x: 520, y: 0, w: 300 }),\n\n    Object.assign({}, BASE_OBSTACLE, { x: 840, y: 80, w: 20, h: 300 }),\n    Object.assign({}, BASE_PLATFORM, { x: 880, y: 0, w: 300 })\n  ]\n}\n\nexport const chunkFlamingDeath = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 500 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -100, w: 99999, h: 0 }),\n\n    Object.assign({}, BASE_OBSTACLE, { x: 290, y: 0, w: 20, h: 40 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 290, y: 80, w: 20, h: 300 })\n  ]\n}\n\nexport const chunkShortDrop = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 30, y: 51 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 50, w: 250 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -100, w: 99999, h: 0 }),\n\n    Object.assign({}, BASE_OBSTACLE, { x: 290, y: 55, w: 20, h: 300 }),\n    Object.assign({}, BASE_WALL, { x: 450, y: 80, w: 10, h: 300 }),\n    Object.assign({}, BASE_PLATFORM, { x: 275, y: 10, w: 50 }),\n    Object.assign({}, BASE_PLATFORM, { x: 400, y: 80, w: 500 })\n  ]\n}\n\nexport const chunkWallGap = {\n  map: [\n    Object.assign({}, CAMERA),\n    Object.assign({}, BASE_HERO, { x: 30, y: 1 }),\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 0, w: 1500 }),\n    Object.assign({}, BASE_OBSTACLE, { x: 0, y: -100, w: 99999, h: 0 }),\n\n    Object.assign({}, BASE_PLATFORM, { x: 0, y: 80, w: 900 }),\n    Object.assign({}, BASE_WALL, { x: 0, y: 70, w: 400, h: 10 }),\n    Object.assign({}, BASE_WALL, { x: 500, y: 70, w: 400, h: 10 }),\n    Object.assign({}, BASE_PLATFORM, { x: 1000, y: 80, w: 500 }),\n    Object.assign({}, BASE_WALL, { x: 1000, y: 70, w: 500, h: 10 })\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/maps/tests.js","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  width: 300px;\n  margin: auto;\n  margin-top: 40px;\n  font-family: monospace;\n}\n\n* {\n  -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n     -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n            user-select: none; /* Non-prefixed version, currently\n                                  supported by Chrome and Opera */\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?6406311e","<template>\n  <div class=\"game\">\n    <div>\n      <select class=\"level-select\" v-model=\"level\">\n        <option :value=\"k\" v-for=\"(v,k) in levels\" :key=\"k\">{{v.config.name || k}}</option>\n      </select>\n    </div>\n    <canvas ref=\"canvas\"></canvas>\n    <pre v-if=\"dat.state && dat.state.isWinner && currentLevel.config.nextLevel\"><a href=\"\" @click.prevent=\"nextLevel\">next level</a></pre>\n    <pre v-else>{{currentLevel.config.description}}</pre>\n\n    <template v-if=\"debug\">\n      <label><input type=\"checkbox\" v-model=\"state.showVectors\"> show vectors</label>\n      <br>\n      <label><input type=\"checkbox\" v-model=\"state.showGhosts\"> show ghosts</label>\n      <br>\n      <label><input type=\"checkbox\" v-model=\"state.showCollisions\"> show collisions</label>\n    </template>\n  </div>\n</template>\n\n<script>\n// eslint-disable-next-line\nimport Worker from 'worker-loader!@/worker.worker.js'\nimport { loadLevels } from '@/lib/engine'\nimport { draw, prepareCanvas, flush } from '@/lib/screen'\nimport { Loop } from '@/lib/loop'\nimport * as mainLevels from '@/maps/main'\nimport * as testLevels from '@/maps/tests'\nimport url from 'url'\n\nconst worker = new Worker()\nconst engine = new Loop()\n\nfunction mapWorker (worker, events) {\n  const ret = {}\n\n  events.forEach((event) => {\n    ret[event] = function (...args) {\n      worker.postMessage({event, args: args})\n    }\n  })\n\n  return ret\n}\n\nexport default {\n  data () {\n    return {\n      debug: false,\n      levels: loadLevels({\n        ...mainLevels,\n        ...testLevels\n      }),\n      level: 'level1',\n      state: {\n        up: false,\n        showVectors: false,\n        showGhosts: false,\n        showCollisions: false,\n      },\n      dat: {\n        config: {}\n      }\n    }\n  },\n\n  watch: {\n    level: {\n      handler () {\n        this.reset()\n      },\n      immediate: true\n    },\n\n    state: {\n      handler () {\n        this.draw(this.dat)\n      },\n      deep: true\n    }\n  },\n\n  computed: {\n    currentLevel () {\n      return this.levels[this.level]\n    }\n  },\n\n  destroyed () {\n    worker.terminate()\n  },\n\n  mounted () {\n    const params = url.parse(window.location.search, true)\n\n    this.debug = !!params.query.debug\n\n    this.canvas = this.$refs.canvas\n    this.canvasBuffer = this.$refs.canvas.cloneNode()\n\n    engine.events.addEventListener('tick', dt =>\n      this.requestFrame({...this.state, dt})\n    )\n\n    worker.addEventListener('message', e =>\n      this.handleFrame(e)\n    )\n\n    const handlePress = () => {\n      this.state.up = true\n\n      if (this.dat && !this.dat.state.isAlive) {\n        this.reset()\n      } else if (!engine.running) {\n        engine.start()\n      }\n    }\n\n    const handleRelease = (e) => {\n      e.preventDefault()\n      e.stopPropagation()\n      this.state.up = false\n    }\n\n    document.addEventListener('contextmenu', (e) => e.preventDefault())\n    document.addEventListener('touchstart', handlePress)\n    document.addEventListener('keydown', handlePress)\n    document.addEventListener('touchend', handleRelease)\n    document.addEventListener('keyup', handleRelease)\n  },\n\n  methods: {\n    ...mapWorker(worker, [\n      'loadGame',\n      'requestFrame'\n    ]),\n\n    draw(response) {\n      draw(this.canvasBuffer, response)\n      flush(this.canvasBuffer, this.canvas)\n    },\n\n    handleFrame(e) {\n      const {event, response} = e.data\n      this.dat = response\n\n      if (event === 'requestFrame') {\n        this.draw(response)\n      }\n\n      if (!response.state.isAlive) {\n        engine.stop()\n      }\n\n      if (event === 'loadGame') {\n        prepareCanvas(this.canvasBuffer, response)\n        prepareCanvas(this.canvas, response)\n\n        this.draw(response)\n      }\n    },\n\n    reset () {\n      this.loadGame(this.currentLevel)\n    },\n\n    nextLevel () {\n      if (this.currentLevel.config.nextLevel) {\n        engine.stop()\n        this.level = this.currentLevel.config.nextLevel\n        this.reset()\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n*:focus {\n    outline: none;\n}\n\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\n.level-select {\n  appearance: none;\n  background: none;\n  border: none;\n  font-size: 1rem;\n  font-family: monospace;\n  margin-bottom: .5rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Game.vue?8c4ccd9e"],"sourceRoot":""}