webpackJsonp([1],{100:function(e,t){},101:function(e,t){},105:function(e,t,n){function r(e){n(101)}var i=n(45)(n(55),n(107),r,"data-v-1cc01846",null);e.exports=i.exports},106:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},107:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.level,expression:"level"}],staticClass:"level-select",on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.level=t.target.multiple?n:n[0]}}},e._l(e.levels,function(t,r){return n("option",{domProps:{value:r}},[e._v(e._s(t.config.name||r))])})),e._v(" "),n("canvas",{ref:"canvas"}),e._v(" "),e.dat.state&&e.dat.state.isWinner&&e.currentLevel.config.nextLevel?n("pre",[n("a",{attrs:{href:""},on:{click:function(t){t.preventDefault(),e.nextLevel(t)}}},[e._v("next level")])]):n("pre",[e._v(e._s(e.currentLevel.config.description))])])},staticRenderFns:[]}},110:function(e,t,n){e.exports=function(){return new Worker(n.p+"e271a725dc77d1841f79.worker.js")}},24:function(e,t,n){"use strict";function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=[],u=0;u<e;u++)c.push(o()({},s,a,{x:Math.random()*(n-t)+t,y:Math.random()*(i-r)+r,w:100*Math.random(),h:1,x0:0,y0:0,dx:-.1*Math.random(),dy:0}));return c}n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return h}),t.g=r;var i=n(5),o=n.n(i),a=n(25),c={type:"camera",properties:[],h:300,w:300,x:0,y:0,x0:0,y0:0,dx:.25,dy:0},s={type:"shape",properties:[a.e],h:0,w:0,x:0,y:0},u=o()({},s,{type:"obstacle",color:"#333333",properties:[a.f,a.e,a.g,a.h]}),l=o()({},s,{type:"wall",color:"#999999",properties:[a.f,a.e,a.g]}),d=o()({},s,{type:"platform",color:"#333333",properties:[a.f,a.e,a.g],h:1}),f=o()({},s,{type:"win-zone",color:"#454545",properties:[a.f,a.e,a.g,a.i]}),h=o()({},s,{type:"hero",color:"#333333",properties:[a.e,a.g],h:10,w:10,x:30,x0:0,y0:0,dx:.25,dy:0})},25:function(e,t,n){"use strict";function r(e){var t=!0,n=!1,r=void 0;try{for(var o,a=E()(k()(e));!(t=(o=a.next()).done);t=!0){var c=o.value,s=P()(c,2),u=s[0],l=s[1];e[u]=i(l)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return e}function i(e){var t=e.config,n=e.map,r={config:b()(m()({},S,t)),map:n};return r.config=b()(r.config),r}function o(e){return e.map.find(function(e){return"camera"===e.type}).x}function a(e,t){var n=t.getContext("2d"),r=e.map.find(function(e){return"camera"===e.type});return t.width=2*r.w,t.height=2*r.h,t.style.width=r.w+"px",t.style.height=r.h+"px",n.scale(2,2),n}function c(e,t,n){t.clearRect(0,0,e.width,e.height),t.drawImage(n,0,0,e.width/2,e.height/2)}function s(e,t,n){var r=t.map.find(function(e){return"camera"===e.type}),i=n.x,a=r.h-n.y-n.h,c=n.w,s=n.h;e.fillStyle=n.color,t.config.showCollisions&&n.inCollision&&(e.fillStyle="red"),e.fillRect(i-o(t),a,c,s)}function u(e,t,n){var r=t.map.find(function(e){return"camera"===e.type});n.forEach(function(n){e.strokeStyle="red",e.beginPath();var i=n.x-o(t)+n.w/2,a=r.h-n.y-n.h+n.h/2,c=50*n.dx,s=50*n.dy;e.moveTo(i,a),e.lineTo(i+c,a-s),e.stroke()})}function l(e,t,n){var r=t.map.find(function(e){return"camera"===e.type});n.forEach(function(n){e.fillStyle="blue",e.fillRect(n.x0-o(t),r.h-n.y0-n.h,n.w,n.h)})}function d(e,t,n){n.forEach(function(n){return s(e,t,n)})}function f(e,t){var n=t.map.find(function(e){return"camera"===e.type});e.fillStyle="#333333",e.textAlign="center",e.font="24px monospace",e.fillText("Game Over",n.w/2,n.h/2)}function h(e,t){var n=t.map.find(function(e){return"camera"===e.type});e.fillStyle="#efefef",e.textAlign="center",e.font="24px monospace",e.fillText(t.config.nextLevel?"You Win!":"Kill Screen",n.w/2,n.h/2)}function y(){}function p(e,t,n){t.clearRect(0,0,e.width,e.height),n.config.showGhosts&&l(t,n,n.map),d(t,n,n.map.filter(function(e){return e.properties.includes(G)})),n.config.showVectors&&u(t,n,n.map),n.state.isAlive||f(t,n),n.state.isWinner&&h(t,n)}n.d(t,"f",function(){return C}),n.d(t,"g",function(){return A}),n.d(t,"h",function(){return F}),n.d(t,"i",function(){return j}),n.d(t,"e",function(){return G}),t.a=r,t.d=a,t.c=c,t.b=p;var x=n(29),v=(n.n(x),n(14)),w=(n.n(v),n(5)),m=n.n(w),g=n(28),b=n.n(g),_=n(59),k=n.n(_),L=n(27),E=n.n(L),M=n(60),P=n.n(M),C=(n(49),"static"),A="collideable",F="killer",j="win-zone",G="drawable",S={name:"",description:"",showCollisions:!1,showVectors:!1,showGhosts:!1};!function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]}("accel",500,function(e,t,n){return t.state.up&&n>0?{dy:1.001*n}:{dy:e.dy-.08}})},26:function(e,t,n){"use strict";function r(e){return e[0].replace(/^\n/,"").replace(/^(\s+)/gm,"")}t.a=r},47:function(e,t,n){"use strict";var r=n(23),i=n(108),o=n(105),a=n.n(o);r.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"Game",component:a.a}]})},48:function(e,t,n){function r(e){n(100)}var i=n(45)(n(54),n(106),r,null,null);e.exports=i.exports},49:function(e,t,n){"use strict";function r(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function i(e,t,n){var r=(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);return 0===r?c:r>0?s:u}function o(e,t,n,r){var i=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);if(0===i)return!1;var o=((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x))/i,a=o*(t.x-e.x),c=o*(t.y-e.y);return{x:e.x+a,y:e.y+c,dx:a,dy:c,p1:e,q1:t,p2:n,q2:r}}function a(e,t,n,a){var c=i(e,t,n),s=i(e,t,a),u=i(n,a,e),l=i(n,a,t);return!!(c!==s&&u!==l||0===c&&r(e,n,t)||0===s&&r(e,a,t)||0===u&&r(n,e,a)||0===l&&r(n,t,a))&&o(e,t,n,a)}t.a=a;var c=0,s=1,u=2},50:function(e,t,n){"use strict";function r(e){this.name=e,this.callbacks=[]}function i(){this.events={}}function o(e){if(!(this instanceof o))return new o(e);this.events=new i,this.events.registerEvent("tick"),this.running=!1,this.last=Date.now(),this._frame=0,this._tick=this.tick.bind(this),e&&this.events.addEventListener("tick",e)}t.a=o,r.prototype.registerCallback=function(e){this.callbacks.push(e)},i.prototype.registerEvent=function(e){var t=new r(e);this.events[e]=t},i.prototype.dispatchEvent=function(e,t){this.events[e].callbacks.forEach(function(e){e(t)})},i.prototype.addEventListener=function(e,t){this.events[e].registerCallback(t)},o.prototype.start=function(){if(!this.running)return this.running=!0,this.last=Date.now(),this._frame=requestAnimationFrame(this._tick),this},o.prototype.stop=function(){return this.running=!1,0!==this._frame&&cancelAnimationFrame(this._frame),this._frame=0,this},o.prototype.tick=function(){this._frame=requestAnimationFrame(this._tick);var e=Date.now(),t=e-this.last;this.events.dispatchEvent("tick",t),this.last=e}},51:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(48),o=n.n(i),a=n(47);r.a.config.productionTip=!1,new r.a({el:"#app",router:a.a,render:function(e){return e(o.a)}})},52:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"level1",function(){return h}),n.d(t,"level2",function(){return y});var r=n(5),i=n.n(r),o=n(14),a=n.n(o),c=n(30),s=n.n(c),u=n(24),l=n(26),d=s()(["\n      press any button to begin\n      press any button to jump"],["\n      press any button to begin\n      press any button to jump"]),f=s()(["\n      Rinse & repeat"],["\n      Rinse & repeat"]),h={config:{name:"Level 1",description:n.i(l.a)(d),nextLevel:"level2"},map:[i()({},u.a),i()({},u.f,{w:300,h:300,x:2050,y:0})].concat(a()(n.i(u.g)(100,0,2350,150,300,{color:"#dfdfdf"})),[i()({},u.b,{x:30,y:1}),i()({},u.c,{w:2350,y:-100}),i()({},u.d,{x:0,y:0,w:1200}),i()({},u.d,{x:1250,w:300}),i()({},u.d,{x:1800,w:500}),i()({},u.d,{x:1450,y:50,w:400}),i()({},u.c,{w:20,y:0,h:10,x:450}),i()({},u.c,{w:20,y:0,h:10,x:750}),i()({},u.c,{w:20,y:0,h:50,x:900}),i()({},u.c,{w:20,y:150,h:1500,x:1800})])},y={config:{name:"Level 2",description:n.i(l.a)(f)},map:[i()({},u.a),i()({},u.f,{w:300,h:300,x:3200,y:0})].concat(a()(n.i(u.g)(100,0,3500,150,300,{color:"#dfdfdf"})),[i()({},u.b,{x:30,y:1}),i()({},u.c,{w:3500,y:-100}),i()({},u.d,{y:0,w:300}),i()({},u.d,{w:100,x:200,y:40}),i()({},u.d,{w:500,x:400,y:40}),i()({},u.d,{w:50,x:1e3,y:40}),i()({},u.d,{w:50,x:1150,y:40}),i()({},u.d,{w:50,x:1300,y:40}),i()({},u.d,{w:50,x:1450,y:40}),i()({},u.d,{w:500,x:1650,y:40}),i()({},u.d,{w:200,x:2150,y:160}),i()({},u.d,{w:300,x:2530,y:70}),i()({},u.d,{w:150,x:2610,y:120}),i()({},u.c,{w:20,y:190,h:1e3,x:2860}),i()({},u.d,{w:200,x:2950,y:160})])}},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ladder",function(){return y}),n.d(t,"fallTest",function(){return p}),n.d(t,"verticalPlatform",function(){return x}),n.d(t,"jump",function(){return m}),n.d(t,"impossiblePlatform",function(){return g}),n.d(t,"thinGap",function(){return k}),n.d(t,"chunkPads",function(){return M}),n.d(t,"chunkBedHop",function(){return P}),n.d(t,"chunkTreeTrunk",function(){return C}),n.d(t,"chunkStairCase",function(){return A}),n.d(t,"chunkTightLeap",function(){return F}),n.d(t,"chunkFlamingDeath",function(){return j}),n.d(t,"chunkShortDrop",function(){return G}),n.d(t,"chunkWallGap",function(){return S});for(var r=n(14),i=n.n(r),o=n(30),a=n.n(o),c=n(5),s=n.n(c),u=n(24),l=n(26),d=a()(["\n      demonstrates issues with collision\n      detection around two near collidables\n\n      play a few times to see the various responses"],["\n      demonstrates issues with collision\n      detection around two near collidables\n\n      play a few times to see the various responses"]),f=a()(["\n      Platforms do not handle horizontal collisions very well"],["\n      Platforms do not handle horizontal collisions very well"]),h=a()(["\n    this platform shouldn't be reachable\n    "],["\n    this platform shouldn't be reachable\n    "]),y={map:[s()({},u.a),s()({},u.b,{x:30,y:1}),s()({},u.c,{w:99999,y:-100}),s()({},u.d,{x:0,y:0,w:300}),s()({},u.d,{x:200,y:6,w:300}),s()({},u.d,{x:400,y:11,w:300})]},p={config:{showCollisions:!0,description:n.i(l.a)(d)},map:[s()({},u.a),s()({},u.b,{x:2,y:180,dx:0}),s()({},u.d,{x:0,y:110,w:14}),s()({},u.c,{x:0,y:-999,w:14,h:1099})]},x={config:{description:n.i(l.a)(f)},map:[s()({},u.a),s()({},u.b,{x:30,y:1,dx:.3}),s()({},u.d,{x:0,y:0,w:300}),s()({},u.d,{x:200,y:0,w:1,h:50}),s()({},u.c,{x:250,y:0,w:10,h:50})]},v=[],w=0;w<30;w++)v.push(s()({},u.c,{x:200+300*w,y:0,w:10,h:10*w+1}));for(var m={map:[s()({},u.a),s()({},u.b,{x:30,y:1}),s()({},u.d,{x:0,y:0,w:99999}),s()({},u.c,{x:0,y:-100,w:99999,h:0})].concat(v)},g={config:{description:n.i(l.a)(h)},map:[s()({},u.a),s()({},u.d,{x:0,y:0,w:300}),s()({},u.b,{x:30,y:1,dx:0}),s()({},u.d,{x:0,y:140,w:150}),s()({},u.c,{x:0,y:270,w:150,h:20})]},b=[],_=0;_<50;_++)b=b.concat([s()({},u.d,{x:100*_,y:50,w:100-Number(_)})]);for(var k={config:{showCollisions:!0},map:[s()({},u.a)].concat(i()(b),[s()({},u.b,{x:30,y:52,dx:.1}),s()({},u.c,{x:0,y:0,w:99999,h:10})])},L=[],E=0;E<50;E++)L.push(s()({},u.d,{x:450+150*E,y:50,w:100-Number(E)}));var M={map:[s()({},u.a),s()({},u.b,{x:30,y:1}),s()({},u.d,{x:0,y:0,w:450})].concat(L,[s()({},u.c,{x:0,y:-100,w:99999,h:0})])},P={map:[s()({},u.a),s()({},u.b,{x:30,y:1}),s()({},u.d,{x:0,y:0,w:900}),s()({},u.d,{x:450,y:50,w:200}),s()({},u.c,{x:400,y:0,w:300,h:20}),s()({},u.c,{x:0,y:-100,w:99999,h:0})]},C={map:[s()({},u.a),s()({},u.b,{x:30,y:1}),s()({},u.d,{x:0,y:0,w:900}),s()({},u.c,{x:450,y:0,w:20,h:60}),s()({},u.d,{x:500,y:100,w:100}),s()({},u.c,{x:600,y:30,w:20,h:150}),s()({},u.d,{x:620,y:150,w:100}),s()({},u.c,{x:700,y:0,w:20,h:80}),s()({},u.c,{x:0,y:-100,w:99999,h:0})]},A={map:[s()({},u.a),s()({},u.b,{x:30,y:1}),s()({},u.d,{x:0,y:0,w:900})].concat(i()(function(e){for(var t=[],n=1;n<=e.count;n++){var r=e.stepWidth,i=e.x+r*n,o=e.stepHeight*n,a=o-e.gap,c=i-e.overhang;t.push(s()({},u.d,{x:c,y:o,w:r})),t.push(s()({},u.c,{x:i,y:0,w:r,h:a}))}return t}({count:4,x:450,y:0,stepHeight:30,stepWidth:150,gap:10,overhang:75})),[s()({},u.c,{x:0,y:-100,w:99999,h:0})])},F={map:[s()({},u.a),s()({},u.b,{x:30,y:1}),s()({},u.c,{x:0,y:-100,w:99999,h:0}),s()({},u.d,{x:0,y:0,w:400}),s()({},u.c,{x:450,y:120,w:20,h:300}),s()({},u.d,{x:520,y:0,w:300}),s()({},u.c,{x:840,y:80,w:20,h:300}),s()({},u.d,{x:880,y:0,w:300})]},j={map:[s()({},u.a),s()({},u.b,{x:30,y:1}),s()({},u.d,{x:0,y:0,w:500}),s()({},u.c,{x:0,y:-100,w:99999,h:0}),s()({},u.c,{x:290,y:0,w:20,h:40}),s()({},u.c,{x:290,y:80,w:20,h:300})]},G={map:[s()({},u.a),s()({},u.b,{x:30,y:51}),s()({},u.d,{x:0,y:50,w:250}),s()({},u.c,{x:0,y:-100,w:99999,h:0}),s()({},u.c,{x:290,y:55,w:20,h:300}),s()({},u.e,{x:450,y:80,w:10,h:300}),s()({},u.d,{x:275,y:10,w:50}),s()({},u.d,{x:400,y:80,w:500})]},S={map:[s()({},u.a),s()({},u.b,{x:30,y:1}),s()({},u.d,{x:0,y:0,w:1500}),s()({},u.c,{x:0,y:-100,w:99999,h:0}),s()({},u.d,{x:0,y:80,w:900}),s()({},u.e,{x:0,y:70,w:400,h:10}),s()({},u.e,{x:500,y:70,w:400,h:10}),s()({},u.d,{x:1e3,y:80,w:500}),s()({},u.e,{x:1e3,y:70,w:500,h:10})]}},54:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),i=n.n(r),o=n(110),a=n.n(o),c=n(25),s=n(50),u=n(52),l=n(53),d=new a.a,f=new s.a;t.default={data:function(){return{levels:n.i(c.a)(i()({},u,l)),level:"level1",state:{up:!1},dat:{config:{}}}},watch:{level:{handler:function(){this.reset()},immediate:!0}},computed:{currentLevel:function(){return this.levels[this.level]}},destroyed:function(){d.terminate()},mounted:function(){var e=this,t=this.$refs.canvas,r=t.cloneNode(),o=void 0,a=void 0;f.events.addEventListener("tick",function(t){return e.requestFrame(i()({},e.state,{dt:t}))});var s=function(e){n.i(c.b)(r,a,e),n.i(c.c)(t,o,r),e.state.isAlive||f.stop()};d.onmessage=function(u){var l=u.data,d=l.event,f=l.response;f&&(e.dat=f),"requestFrame"===d&&s(f),"loadGame"===d&&(a=n.i(c.d)(f,r),o=n.i(c.d)(f,t),e.requestFrame(i()({},e.state,{dt:0})))};var u=function(t){e.state.up=!0,e.dat&&!e.dat.state.isAlive?e.reset():f.running||f.start()},l=function(t){e.state.up=!1};document.addEventListener("contextmenu",function(e){return e.preventDefault()}),document.addEventListener("touchstart",u),document.addEventListener("keydown",u),document.addEventListener("touchend",l),document.addEventListener("keyup",l)},methods:i()({},function(e,t){var n={};return t.forEach(function(t){n[t]=function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.postMessage({event:t,args:r})}}),n}(d,["loadGame","requestFrame"]),{reset:function(){this.loadGame(this.currentLevel)},nextLevel:function(){this.currentLevel.config.nextLevel&&(f.stop(),this.level=this.currentLevel.config.nextLevel,this.reset())}})}}},[51]);
//# sourceMappingURL=app.d4594a577f6f5b3667b8.js.map